apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "spring-boot.fullname" . }}-cfg
  labels:
    {{- include "spring-boot.labels" . | nindent 4 }}
data:
  application.yaml: |
    spring:
      datasource:
        url: jdbc:postgresql://vpn.rjst.de:5432/backend
        hikari:
          minimum-idle: 1
      jpa:
        hibernate:
          ddl-auto: none
        open-in-view: false
      boot:
        admin:
          client:
            url: http://rjst-spring-boot-admin.dev.svc.cluster.local
            instance:
              service-base-url: http://${K8S_POD_IP}:8080
              management-base-url: http://${K8S_POD_IP}:8081
              name: rjst-backend-service
      ldap:
        base: dc=rjst,dc=de
        urls: ldap://vpn.rjst.de:389
        username: cn=trjstbackend,ou=tool,ou=users,dc=rjst,dc=de
        password: "123"
    security:
      pseudo-user-path: "ou=pseudo,ou=users,dc=rjst,dc=de"
      default-user-path: "ou=team,ou=users,dc=rjst,dc=de"
      tool-user: "trjstbackend"
    springdoc:
      swagger-ui:
        use-root-path: true
      api-docs:
        version: openapi_3_1
